# リクルーティングエージェント開発ロードマップ

求職者と求人の「文脈マッチング」を実現するための、データ基盤からエージェントロジックまでの実装ステップです。

## 📅 フェーズ概要

| フェーズ | テーマ | 内容 |
| :--- | :--- | :--- |
| **Phase 1** | **双方向データ基盤の構築** | 求人・候補者データの定義、OCR連携、Qdrantへのベクトル登録 |
| **Phase 2** | **パーソナライズ配信 (Candidate-Centric)** | 候補者データから「検索クエリ」を生成し、マッチする求人を提案する |
| **Phase 3** | **ターゲティング・スカウト (Job-Centric)** | 特定の求人から「理想の候補者像」を生成し、候補者をランク付けする |
| **Phase 4** | **メッセージ・パーソナライズ** | 候補者の経歴を引用した「刺さる」スカウト文の生成 |

---

## 🚩 Phase 1: 双方向データ基盤の構築 (最優先)
エージェントが検索・参照するための「職務経歴書」と「求人票」のベクトルデータを準備します。

- **Step 1.1: データスキーマの定義とQdrantコレクション作成**
  - Job Collection: requirements, benefits, culture, tech_stack 等
  - Candidate Collection: skills, aptitude_score, ocr_resume_text 等
- **Step 1.2: OCRデータの永続化**
  - `ocrAgent.ts` の結果を自動的に Candidate Collection にベクトル登録するパイプラインの構築

## 🚩 Phase 2: パーソナライズ配信 (Candidate-Centric)
「この求職者にはどの求人がいいか？」を考えます。

- **Step 2.1: 検索クエリ生成ツールの作成**
  - LLM が候補者の適性やログから Qdrant 用の検索キーワードを生成
- **Step 2.2: マッチング推論ループ (Manual Loop)**
  - 検索結果に対し、LLM が「なぜ合うか」を一つずつ推論

## 🚩 Phase 3: ターゲティング・スカウト (Job-Centric)
「この求人には誰がいいか？」を考えます。

- **Step 3.1: ターゲットペルソナ抽出**
  - 求人票を解析し、理想の候補者像（ペルソナ）を生成
- **Step 3.2: 候補者のバッチ評価ロジック**
  - 上位候補者に対し「スキル」「志向性」の2軸でスコアリング

## 🚩 Phase 4: メッセージ・パーソナライズ
- **Step 4.1: 文脈引用スカウト生成**
  - 候補者の具体的な実績を引用したパーソナライズメッセージの自動生成

---

## 💡 直近のアクションアイテム
1. **Mockデータの作成:** `jobs/`, `candidates/` 配下にテスト用データを配置
2. **インデクサーの拡張:** `vectorIndexer.ts` を修正し、複数コレクションに対応
3. **検索ツールの実装:** `search_jobs`, `search_candidates` ツールの定義
